function wpapClientVerifyAPIKey(t){let e=document.getElementById("wpap_client_verify_api_key_request").value,n=document.getElementById("wpap-key-status-text"),i=document.querySelector(".wpap-status-forjs"),a=document.getElementById("wpap-status-change"),p=new FormData;p.append("action","wpap_client_initialize_connection"),p.append("wpap_client_api_key",t),p.append("wpapClientVerifyAPIKeyNonce",e),fetch(wpap_ajax_object.ajax_url,{method:"POST",credentials:"same-origin",body:p}).then(t=>t.json()).then(t=>{t.success?(n.textContent="Online",i.classList.remove("wpap-status-offline"),i.classList.add("wpap-status-online"),a.innerHTML=t.data.apiKeyStatusMsg,wpapNotifyOnResponse(t.data.message,"#wpap-client-settings-wrap","success","bottom")):(n.textContent="Offline",i.classList.remove("wpap-status-online"),i.classList.add("wpap-status-offline"),a.innerHTML=t.data.apiKeyStatusMsg,console.log(t.data.message),wpapNotifyOnResponse(t.data.message,"#wpap-client-settings-wrap","error","bottom"))}).catch(t=>{console.error("Error:",t)})}function wpapNotifyOnResponse(t,e,n,i="bottom"){let a=`<div class="wpap-client-notification ${n}" style="opacity:0;"><p>${t}</p></div>`;"top"===i?(a=`<div class="wpap-client-notification wpap-client-notification-top ${n}" style="opacity:0;"><p>${t}</p></div>`,jQuery(e).prepend(a)):(a=`<div class="wpap-client-notification wpap-client-notification-bottom ${n}" style="opacity:0;"><p>${t}</p></div>`,jQuery(e).append(a)),jQuery(e+" .wpap-client-notification").animate({opacity:1},500),setTimeout(function(){jQuery(e+" .wpap-client-notification").animate({opacity:0},500,function(){jQuery(this).remove()})},3e3)}document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("#wpap-client-initialize-connection");t.addEventListener("click",function(t){t.preventDefault();let e=document.querySelector("#wpap_client_api_key").value;wpapClientVerifyAPIKey(e)})});